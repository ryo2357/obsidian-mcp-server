---
mode: 'agent'
description: 'アイディアファイルから仕様書新規作成（初回実行用）'
---


このプロンプトは、`.docs/specs/requirements.md`,`.docs/specs/design.md`が存在しない初回実行時に、アイディアファイルから仕様書を新規作成します。

## 実行手順

### フェーズ 1: アイディアファイル分析と既存システム把握

1. アイディア内容の抽出
   - アイディアファイルの「概要」から実現したい機能を特定
   - 「仕様」から具体的な動作要件と技術制約を抽出
   - 問題の背景と期待する成果を明確化

2. 既存コードベース分析
   - ワークスペース内のコード構造を調査
   - 既存の機能・コンポーネントとの関係性を分析
   - アーキテクチャパターンと技術スタックを把握

3. プロジェクト情報収集
   - ワークスペースのルートフォルダ名をプロジェクト名として取得
   - 既存システムの概要をコードベースから抽出

### フェーズ 2: `.docs/specs/requirements.md`新規作成

1. プロジェクト概要セクション作成
   - 既存システムの機能・目的を整理
   - アイディアの位置づけを明確化

2. 要件定義セクション作成
   - アイディアの「概要」をユーザーストーリー形式に変換
   - 「仕様」の内容をWHEN-THEN-SHALL形式の受け入れ基準に変換
   - 各要件に連番を付与（要件1、要件2...）

3. 非機能要件セクション作成
   - アイディアファイルから性能・セキュリティ・利用性要件を抽出
   - 技術制約を非機能要件として整理

### フェーズ 3: `.docs/specs/design.md`新規作成

1. 既存システムアーキテクチャ文書化
   - 現在のコンポーネント構成を分析・記述
   - データフローとクラス関係を整理

2. 新機能設計
   - requirements.mdの各要件に対応する技術実装方針を設計
   - 新規追加するクラス・コンポーネントの詳細設計
   - 既存システムとの統合方法を設計

3. 設計詳細記述
   - UI/UX設計（画面構成、ユーザーインタラクション）
   - データ構造設計（モデルクラス、JSON構造）
   - インターフェース設計（メソッドシグネチャ、API仕様）

### フェーズ 4: 仕様書間整合性確認

1. requirements.md と design.md の対応確認
   - 各要件に対する技術実装が design.md に記載されているか確認
   - 設計内容が要件の受け入れ基準を満たしているか検証

2. ファイル配置確認
   - `.docs/specs/requirements.md` に配置
   - `.docs/specs/design.md` に配置

## 注意事項

- 仕様書の構成要素、記述形式、品質保証チェックポイントは `general.instructions.md` に従う
- requirements.md と design.md の詳細なテンプレートは `general.instructions.md` を参照

