---
mode: 'agent'
description: 'プランファイルから実装実行'
---

このプロンプトは、`.docs/plans/` 内のプランファイルを参照して、仕様書に基づく実装を段階的に実行します。

## 実行手順

### フェーズ 1: プランファイル分析と準備

1. プランファイルの詳細確認
   - 対象プランファイルの基本情報を確認
   - 参照アイディアファイルと参照仕様書セクションを把握
   - 実装目標と成果物を明確化

2. 仕様書との整合性確認
   - 参照されている `requirements.md` の要件を確認
   - 参照されている `design.md` の設計内容を確認
   - プランと仕様書の対応関係を検証

3. 実装前チェック
   - 現在のコードベースの状態を確認
   - 依存関係とライブラリの状況を確認
   - 開発環境の準備状況を確認

### フェーズ 2: 段階的実装実行

1. 実装手順の実行
   - プランファイルの実装手順に厳密に従って実行
   - 各ステップの成果物を確実に作成
   - コードの品質と可読性を保持

2. 各ステップでの確認
   - プランに記載された確認ポイントでビルド実行
   - 動作確認とテスト実行
   - エラーや問題の早期発見と対処

3. 仕様書との整合性維持
   - `requirements.md` の受け入れ基準を満たしているか確認
   - `design.md` の設計パターンに沿っているか確認
   - 実装中に仕様書との齟齬を発見した場合は実装を停止

### フェーズ 3: 品質保証と検証

1. 要件適合性確認
   - プランに記載された品質保証項目をすべて実行
   - `requirements.md` の受け入れ基準との対応を確認
   - ユーザーストーリーが実現されているかを検証

2. 設計適合性確認
   - `design.md` のアーキテクチャパターンに従っているか確認
   - コンポーネント設計に沿った実装になっているか確認
   - インターフェース・データ構造が設計通りか確認

3. 既存機能への影響確認
   - 既存機能の動作に問題がないか確認
   - パフォーマンスへの悪影響がないか確認
   - 回帰テストの実行（必要に応じて）

### フェーズ 4: 統合テストと最終確認

1. 総合動作確認
   - 新機能と既存機能の統合動作確認
   - エンドツーエンドのユーザーシナリオテスト
   - 各種デバイス・環境での動作確認（必要に応じて）

2. ドキュメント確認
   - コード内コメントの適切性確認
   - 必要に応じてREADME等のドキュメント更新
   - 実装内容と仕様書の最終的な整合性確認

3. 完了確認
   - プランファイルの全ステップが完了したことを確認
   - 全ての品質保証項目が満たされていることを確認


## 実行時の重要な原則

### 1. プランファイル準拠
- プランファイルの手順から逸脱しない
- 各ステップの確認ポイントを必ず実行
- プランに記載されていない実装は行わない

### 2. 仕様書ファースト
- 実装中に仕様書との齟齬を発見した場合は実装を停止
- 仕様書の更新が必要な場合は別プロンプトで対応
- 常に仕様書との整合性を最優先

### 3. 段階的実装
- 一度に大量の変更を行わない
- 各ステップでビルド・動作確認を実施
- 問題発生時は前のステップに戻れる状態を維持

### 4. 品質保証の徹底
- プランの品質保証項目をすべて実行
- テストと動作確認を怠らない
- 既存機能への影響を慎重に確認

## 問題発生時の対応

### 1. 仕様書との齟齬発見時
- 実装を一時停止
- 齟齬の内容と原因を分析
- 仕様書更新または実装方針変更の判定

### 2. 技術的問題発生時
- 問題の原因と影響範囲を特定
- プランファイルの手順見直しの必要性を判定
- 必要に応じて設計の再検討

### 3. 品質基準未達成時
- 未達成の品質保証項目を特定
- 原因分析と対策の検討
- 実装の見直しまたは設計の再検討

## 注意事項

- 実装の詳細パターンや品質基準は `general.instructions.md` に従う
- プランファイルの構成要素や分割方針は `general.instructions.md` を参照
- 仕様書ファーストの原則を常に維持
- 段階的実装により安全で確実な開発を実現