---
mode: 'agent'
description: '実装完了後の最終化処理と次段階準備'
---

このプロンプトは、プランファイルの実装完了後に実行し、実装結果の記録・分析、次段階の準備を行います。

## 実行手順

### フェーズ 1: 実装結果の記録と分析

1. 実装内容の総括
   - 完了したプランファイルの内容を確認
   - 実装された機能の詳細を整理
   - 達成された成果物を列挙

2. 実装中の課題・改善点の記録
   - 実装過程で発見した技術的課題を記録
   - コード品質や設計に関する改善点を記録
   - パフォーマンスや利用性に関する課題を記録

3. 学習内容の蓄積
   - 実装中に学習した技術的なパターンを記録
   - 効果的だった実装手法やベストプラクティスを記録
   - 今後活用できる知見やノウハウを整理

### フェーズ 2: 仕様書更新の必要性判定

1. requirements.md への影響確認
   - 実装中に発見した要件の不備や追加要件を特定
   - 受け入れ基準の修正が必要な箇所を特定
   - 新たな非機能要件の必要性を判定

2. design.md への影響確認
   - 実装中に発見した設計の不備や改善点を特定
   - アーキテクチャの変更が必要な箇所を特定
   - コンポーネント設計の修正が必要な箇所を特定

3. 仕様書更新の優先度判定
   - 緊急度の高い仕様書更新を特定
   - 次回開発時に更新すべき項目を整理
   - 長期的な改善項目を整理

### フェーズ 3: 次段階への準備

1. 分割プランの継続確認
   - 現在のプランが分割プランの一部かを確認
   - 次に実行すべきプランファイルを特定
   - 次プラン実行の前提条件を確認

2. 追加開発の可能性分析
   - 実装した機能に関連する追加機能のアイディア整理
   - ユーザーフィードバックに基づく改善案の整理
   - 技術的拡張の可能性を検討

3. 技術的負債と改善点の整理
   - 実装中に発生した技術的負債を記録
   - リファクタリングが必要な箇所を特定
   - パフォーマンス改善の機会を整理

### フェーズ 4: 開発プロセスの改善

1. プランファイルの品質評価
   - 実行したプランファイルの適切性を評価
   - プラン分割の妥当性を評価
   - 実装手順の改善点を特定

2. 開発ワークフローの評価
   - 仕様書ファースト開発の効果を評価
   - 品質保証プロセスの効果を評価
   - ツール・プロンプトの改善点を特定

3. 次回開発への提言
   - より効率的な開発手順の提案
   - プロンプトやテンプレートの改善提案
   - 開発環境・ツールの改善提案

## 出力形式とファイル保存

### レポート保存先
- 保存フォルダ: `.docs/reports/`
- ファイル命名規則: `YYYY-MM-DD_XXX_<機能名>_implementation_report.md`
  - YYYY-MM-DD: 実装完了日
  - XXX: 対応するプランファイルの番号（001, 002...）
  - 機能名: 英語のスネークケース
  - 例: `2025-01-15_001_quiz_feature_implementation_report.md`

### 分割プランの場合
- ファイル命名規則: `YYYY-MM-DD_XXX-YY_<機能名>_implementation_report.md`
  - XXX-YY: 分割プランの番号（001-01, 001-02...）
  - 例: `2025-01-15_001-02_quiz_feature_implementation_report.md`

### 1. 実装完了報告
```markdown
# 実装完了報告

## 実装概要
- 対象プランファイル: [ファイル名]
- 実装期間: [開始日] - [完了日]
- 実装した機能: [機能の詳細]

## 達成成果
- [成果物1の詳細]
- [成果物2の詳細]

## 発見した課題
- [課題1の詳細と対策]
- [課題2の詳細と対策]
```

### 2. 仕様書更新提案
```markdown
# 仕様書更新提案

## requirements.md 更新事項
- [更新が必要な要件と理由]
- [新規追加が必要な要件]

## design.md 更新事項
- [更新が必要な設計と理由]
- [新規追加が必要な設計]

## 更新優先度
- 高: [緊急更新事項]
- 中: [次回更新事項]
- 低: [長期改善事項]
```

### 3. 次段階準備状況
```markdown
# 次段階準備状況

## 継続プラン
- 次のプランファイル: [ファイル名またはなし]
- 実行準備状況: [準備完了/要準備作業]

## 新規開発候補
- [追加機能のアイディア1]
- [改善項目のアイディア2]

## 技術的負債
- [要対応の技術的負債1]
- [要リファクタリング箇所2]
```

### フェーズ 5: レポートファイル作成

1. 統合レポートの作成
   - 上記3つのレポート（実装完了報告、仕様書更新提案、次段階準備状況）を統合
   - `.docs/reports/` ディレクトリに保存
   - 適切なファイル名で保存（命名規則に従う）

2. レポートの検証
   - 記載内容の正確性を確認
   - 必要な情報が漏れていないかチェック
   - 次回開発に活用できる形式になっているか確認

## 注意事項

- 実装結果の客観的な分析を重視
- 感情的な評価ではなく、事実に基づく記録を作成
- 次回開発の効率向上に資する具体的な提言を行う
- `general.instructions.md` の開発ワークフロー改善に貢献する知見を蓄積
- 必要に応じて他のプロンプト実行を提案（仕様書更新、新規プラン作成等）
