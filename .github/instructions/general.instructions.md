---
applyTo: "**"
---

# 前提

- chat の対話相手は日本人です。説明は**必ず日本語**で行ってください。

## 基本方針

- このプロジェクトでは、GitHub Copilotによるコーディング計画と仕様書によって管理した開発を行います。
- 仕様書は各コーディング計画の実装で矛盾が生じないように、参照・更新されます。
- Copilot Agent は他のコーディングエージェントと異なり、コーディングを始める前に詳細なコーディング計画を立てる いわゆる Plan mode を持ちません。
- その代用として、コーディングを始める前に、ユーザーと一緒にコーディング計画を立てて、それを Markdown 形式で保存します。

## 開発フローの原則

### 1. 開発フロー（初回）

`.docs/specs` ディレクトリ内に仕様書が存在しない場合は、以下のフローで開発を行います。

1. アイディアファイルからコーディング計画を作成
2. コーディング計画をもとに実装を実行
3. コーディング計画の実行後、実装内容からプロジェクトの仕様書を作成する

### 2. 開発フロー（2回目以降）

`.docs/specs` ディレクトリ内に仕様書が存在する場合は、以下のフローで開発を行います。

1. アイディアファイルと仕様書からコーディング計画を作成
2. コーディング計画をもとに実装を実行
3. コーディング計画の実行後、実装内容を仕様書に反映・更新する


## アイディアファイル

- アイディアファイルは `.docs/ideas` ディレクトリ内に Markdown 形式で記述します。
- 実装したい機能の概要と仕様を記述しています。

## コーディング計画

- コーディング計画は `.docs/plans` ディレクトリ内に Markdown 形式で記述します。
- コーディング計画の作成前に、`.docs/specs` ディレクトリ内の既存仕様書を参照し、矛盾のない計画を立案します。
- `.docs/specs` ディレクトリ内に仕様書が存在しない場合は、アイディアファイルをもとにコーディング計画を作成します。
- コーディング計画のファイル名は、以下のルールに従ってください。
  - 依頼内容に関連するキーワードを含めるようにします。
  - ファイル名の先頭には、3 桁の連番を付けます。
  - 作成日時はファイルの内容に記述します。
  - 単一プランの場合: `001-add-user-feature.md`
  - 分割プランの場合: `001-01-add-user-feature.md`, `001-02-add-user-feature.md`
- 作成日時は以下の形式でファイルの内容に記述します。
  作成日時: YYYY-MM-DD hh:mm
  例: 作成日時: 2025-07-10 12:00


### コーディング計画分割時の留意点

- 実装手順が複数ある場合は分割を検討します。
- ビルド・動作確認・テストの段階も 1 つの手順として扱います。
- 分割時は以下の原則に従います：
  - 各コーディング計画は独立して理解できるように記述する
  - 前のコーディング計画への依存関係を明記する
  - 全体の進捗状況を把握できるように、総手順数と現在の位置を記載する
  - 各手順の最後にビルド・動作確認の項目を含める
- 分割プランの構成例：
  - `01-`: 基本設計・環境構築・初回ビルド確認
  - `02-`: コアデータモデル実装・単体テスト
  - `03-`: UI・画面表示機能・表示確認
  - `04-`: 操作・制御機能・操作テスト
  - `05-`: 拡張機能・最適化・総合テスト

## 仕様書

- コーディング計画の実行完了後は、実装内容をもとに仕様書を作成・更新します。
- 仕様書は `.docs/specs` ディレクトリ内に Markdown 形式で管理します。
- 仕様書のファイル名は、対象となる機能やモジュール名を明確に示すものとします。
  - 例: `user-management.md`, `authentication.md`, `api-endpoints.md`
- 仕様書の内容には以下を含めます：
  - 機能概要
  - 実装詳細
  - データ構造
  - API 仕様
  - 制約事項・留意点
  - 関連するファイルパス
- 既存仕様書がある場合は、実装内容に基づいて更新を行います。
- 仕様書の更新時は、変更履歴を記録し、Plan 番号との関連付けを明記します。
- 作成日時と更新日時は以下の形式でファイルの内容に記述します。
  作成日時: YYYY-MM-DD hh:mm
  更新日時: YYYY-MM-DD hh:mm
  例:
    作成日時: 2025-07-10 12:00
    更新日時: 2025-07-11 12:00


## 報告書

- コーディング計画の実行完了後は、実装内容をもとに報告書を作成します。
- 仕様書は `.docs/reports` ディレクトリ内に Markdown 形式で記述します。
- ファイル名は`<参照にしたコーディング計画のファイル名>_report.md` の形式で作成します。
- 作成日時は以下の形式でファイルの内容に記述します。
  作成日時: YYYY-MM-DD hh:mm
  例: 作成日時: 2025-07-10 12:00
- 報告書の内容には以下を含めます：
  - 実装内容の概要
  - 実装結果とコーディング計画の差異、差異の理由
  - 次のステップや提案事項
